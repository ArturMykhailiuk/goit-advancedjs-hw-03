{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCardTemplate = hit => {\n  return `\n  <li class=\"gallery-card\">\n\n  <a class=\"gallery-link\" href=\"${hit.largeImageURL}\">\n    <img class=\"gallery-img\" src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" />\n  </a>\n\n    <div class=\"gallery-card-info\">\n      <div class=\"image-info\">\n        <p class=\"image-info-label\">Likes:</p>\n        <p class=\"image-info-counter\">${hit.likes}</p>\n      </div>\n      <div class=\"image-info\">\n        <p class=\"image-info-label\">Comments:</p>\n        <p class=\"image-info-counter\">${hit.comments}</p>\n      </div>\n      <div class=\"image-info\">  \n        <p class=\"image-info-label\">Views:</p>\n        <p class=\"image-info-counter\">${hit.views}</p>\n      </div>\n      <div class=\"image-info\">\n        <p class=\"image-info-label\">Dowloads:</p>\n        <p class=\"image-info-counter\">${hit.downloads}</p>\n      </div>\n    </div>\n  </li>\n  `;\n};\n\nexport const addProgressBar = () => {\n  const loaderSpan = document.createElement('div');\n  loaderSpan.classList.add('loader');\n\n  const targetElement = document.querySelector('.js-search-form');\n  targetElement.insertAdjacentElement('afterend', loaderSpan);\n};\n\nexport const removeProgressBar = () => {\n  const elementToRemove = document.querySelector('.loader');\n  elementToRemove.remove();\n};\n","export const fetchPhotos = query => {\n  return fetch(\n    `https://pixabay.com/api/?key=45247125-03c336e2130b29d2672f4e8a7&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { addProgressBar } from './js/render-functions.js';\nimport { removeProgressBar } from './js/render-functions.js';\nimport { createGalleryCardTemplate } from './js/render-functions.js';\nimport { fetchPhotos } from './js/pixabay-api.js';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  const searchedValue = event.target.elements.user_query.value.trim();\n\n  event.target.elements.user_query.value = '';\n\n  addProgressBar();\n\n  if (searchedValue.length !== 0) {\n    fetchPhotos(searchedValue)\n      .then(({ hits }) => {\n        if (hits.length === 0) {\n          galleryEl.innerHTML = '';\n\n          removeProgressBar();\n\n          iziToast.show({\n            title:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            color: 'red',\n          });\n\n          return;\n        }\n\n        const galleryCardsTemplate = hits\n          .map(imgInfo => createGalleryCardTemplate(imgInfo))\n          .join('');\n\n        galleryEl.innerHTML = galleryCardsTemplate;\n\n        removeProgressBar();\n\n        const lightbox = new SimpleLightbox('.gallery-card a', {\n          captionsData: 'alt',\n          captionDelay: 250,\n        });\n\n        lightbox.refresh();\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCardTemplate","hit","addProgressBar","loaderSpan","removeProgressBar","fetchPhotos","query","response","searchFormEl","galleryEl","onSearchFormSubmit","event","searchedValue","hits","iziToast","galleryCardsTemplate","imgInfo","SimpleLightbox","err"],"mappings":"6vBAAO,MAAMA,EAA4BC,GAChC;AAAA;AAAA;AAAA,kCAGyBA,EAAI,aAAa;AAAA,oCACfA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAM9BA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,wCAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,wCAIZA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,wCAITA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,IAOxCC,EAAiB,IAAM,CAClC,MAAMC,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,UAAU,IAAI,QAAQ,EAEX,SAAS,cAAc,iBAAiB,EAChD,sBAAsB,WAAYA,CAAU,CAC5D,EAEaC,EAAoB,IAAM,CACb,SAAS,cAAc,SAAS,EACxC,OAAM,CACxB,ECzCaC,EAAcC,GAClB,MACL,qEAAqEA,CAAK,0DAC9E,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,ECGGC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAEhDC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMC,EAAgBD,EAAM,OAAO,SAAS,WAAW,MAAM,OAE7DA,EAAM,OAAO,SAAS,WAAW,MAAQ,GAEzCT,IAEIU,EAAc,SAAW,GAC3BP,EAAYO,CAAa,EACtB,KAAK,CAAC,CAAE,KAAAC,KAAW,CAClB,GAAIA,EAAK,SAAW,EAAG,CACrBJ,EAAU,UAAY,GAEtBL,IAEAU,EAAS,KAAK,CACZ,MACE,2EACF,SAAU,WACV,MAAO,KACnB,CAAW,EAED,MACD,CAED,MAAMC,EAAuBF,EAC1B,IAAIG,GAAWhB,EAA0BgB,CAAO,CAAC,EACjD,KAAK,EAAE,EAEVP,EAAU,UAAYM,EAEtBX,IAEiB,IAAIa,EAAe,kBAAmB,CACrD,aAAc,MACd,aAAc,GACxB,CAAS,EAEQ,QAAO,CACxB,CAAO,EACA,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACvB,CAAO,CAEP,EAEAV,EAAa,iBAAiB,SAAUE,CAAkB"}